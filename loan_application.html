<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Application</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Loan Application</h1>
    </header>
    <main>
        <form id="loan-application-form">
            <label for="full-name">Full Name</label>
            <input type="text" id="full-name" name="full-name" required>

            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>

            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone" required>

            <label for="amount-from">Loan Amount (From)</label>
            <input type="number" id="amount-from" name="amount-from" min="0" required>

            <label for="amount-to">Loan Amount (To)</label>
            <input type="number" id="amount-to" name="amount-to" min="0" required>

            <label for="reason">Reason for Loan</label>
            <textarea id="reason" name="reason" rows="4" required></textarea>

            <label for="supporting-doc">Supporting Document</label>
            <input type="file" id="supporting-doc" name="supporting-doc">

            <label for="address">Address</label>
            <input type="text" id="address" name="address" required>

            <label for="country">Country</label>
            <input type="text" id="country" name="country" required>

            <label for="passport">Passport Photograph</label>
            <input type="file" id="passport" name="passport" required>

            <label for="next-of-kin">Full Name of Next of Kin</label>
            <input type="text" id="next-of-kin" name="next-of-kin" required>

            <label for="next-of-kin-phone">Next of Kin Phone Number</label>
            <input type="tel" id="next-of-kin-phone" name="next-of-kin-phone" required>

            <label for="id-proof">Means of Identification</label>
            <input type="file" id="id-proof" name="id-proof" required>

            <label for="address-proof">Proof of Address</label>
            <input type="file" id="address-proof" name="address-proof" required>

            <button type="submit">Submit Application</button>
        </form>
        <p id="tracking-number" style="margin-top: 1rem; color: #B14EFF;"></p>
    </main>
    <footer>
        <p>&copy; 2026 FundedLoan</p>
    </footer>
    <script>
        document.getElementById("loan-application-form").addEventListener("submit", async (event) => {
            event.preventDefault();

            const trackingNumber = `TRACK-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;
            document.getElementById("tracking-number").textContent = `Your tracking number is: ${trackingNumber}`;

            const formData = new FormData(event.target);
            formData.append("trackingNumber", trackingNumber);

            await fetch("http://localhost:8080/applications", {
                method: "POST",
                body: formData
            });

            event.target.reset();
        });
    </script>
</body>
</html>